<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eye Center Rubino - Centro Oculistico</title>
    <link rel="apple-touch-icon" sizes="57x57" href="{{ url_for('static', filename='favicon/apple-icon-57x57.png') }}">
    <link rel="apple-touch-icon" sizes="60x60" href="{{ url_for('static', filename='favicon/apple-icon-60x60.png') }}">
    <link rel="apple-touch-icon" sizes="72x72" href="{{ url_for('static', filename='favicon/apple-icon-72x72.png') }}">
    <link rel="apple-touch-icon" sizes="76x76" href="{{ url_for('static', filename='favicon/apple-icon-76x76.png') }}">
    <link rel="apple-touch-icon" sizes="114x114" href="{{ url_for('static', filename='favicon/apple-icon-114x114.png') }}">
    <link rel="apple-touch-icon" sizes="120x120" href="{{ url_for('static', filename='favicon/apple-icon-120x120.png') }}">
    <link rel="apple-touch-icon" sizes="144x144" href="{{ url_for('static', filename='favicon/apple-icon-144x144.png') }}">
    <link rel="apple-touch-icon" sizes="152x152" href="{{ url_for('static', filename='favicon/apple-icon-152x152.png') }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='favicon/apple-icon-180x180.png') }}">
    <link rel="icon" type="image/png" sizes="192x192" href="{{ url_for('static', filename='favicon/android-icon-192x192.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='favicon/favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="96x96" href="{{ url_for('static', filename='favicon/favicon-96x96.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='favicon/favicon-16x16.png') }}">
    <link rel="manifest" href="{{ url_for('static', filename='favicon/manifest.json') }}">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="{{ url_for('static', filename='favicon/ms-icon-144x144.png') }}">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Carousel Styles */
        .carousel {
            position: relative;
            max-width: 900px;
            margin: 40px auto;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        
        .carousel-inner {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        
        .carousel-item {
            min-width: 100%;
            position: relative;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        .carousel-item.active {
            opacity: 1;
        }
        
        .carousel-item img {
            width: 100%;
            display: block;
            height: 500px;
            object-fit: cover;
        }
        
        .carousel-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(125, 13, 24, 0.8);
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 18px;
        }
        
        .carousel-control {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.5);
            color: #7D0D18;
            border: none;
            padding: 15px;
            cursor: pointer;
            font-size: 24px;
            z-index: 10;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .carousel-control:hover {
            background: rgba(255,255,255,0.8);
        }
        
        .prev {
            left: 20px;
        }
        
        .next {
            right: 20px;
        }
        
        .carousel-indicators {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 10;
        }
        
        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .indicator.active {
            background: white;
        }
        
        @media (max-width: 768px) {
            .carousel-item img {
                height: 300px;
            }
            
            .carousel-control {
                width: 40px;
                height: 40px;
                padding: 10px;
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="top-bar">
            <div class="container">
                <div class="contact-info">
                    <span><i class="fas fa-phone"></i> {{numero}}</span>
                    <span><i class="fas fa-envelope"></i> {{email}}</span>
                </div>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
        
        <nav class="main-nav">
            <div class="container">
                <div class="logo">
                    <a href="/"><img src="{{ url_for('static', filename='logo/logo-eyecenter.PNG') }}" alt="Eye Center Rubino"></a>
                </div>
                <ul class="nav-links">
                    <li><a href="/">Home</a></li>
                    <li><a href="/studio">Il Centro</a></li>
                    <li><a href="/contatti">Contatti</a></li>
                </ul>
                <div class="mobile-menu">
                    <i class="fas fa-bars"></i>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero" style="background-image: linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.7)), url('{{ url_for('static', filename="images/hero-studio.jpeg") }}');">
        <div class="hero-content">
            <h1>Il Nostro Centro</h1>
            <p>Ambiente accogliente e tecnologie all'avanguardia</p>
        </div>
    </section>

    <!-- Image Carousel Section -->
    <section class="services">
        <div class="container">
            <h2>Galleria Eye Center Rubino</h2>
            <div class="carousel">
                <div class="carousel-inner">
                    {% for image in studio_images %}
                    <div class="carousel-item">
                        <img src="{{ url_for('static', filename='images/center/' + image) }}" alt="Foto dello studio">
                        <div class="carousel-caption">
                            {% if captions is defined and captions.get(image) %}
                                {{ captions.get(image) }}
                            {% endif %}
                        </div>                    </div>
                    {% endfor %}
                </div>
                <button class="carousel-control prev">&#10094;</button>
                <button class="carousel-control next">&#10095;</button>
                <div class="carousel-indicators">
                    {% for image in studio_images %}
                    <span class="indicator"></span>
                    {% endfor %}
                </div>
            </div>
        </div>
    </section>

    <!-- Brief Description -->
    <section class="about">
        <div class="container">
            <div class="about-content">
                <h2>Chi sono</h2>
                <p>
                    Sono la Dott.ssa Marisa Rubino, laureata in Medicina e Chirurgia presso l’Università degli Studi di Ferrara. Ho conseguito il diploma di specializzazione in Oftalmologia, con Lode, presso l’Università degli Studi di Pisa.<br>
                    Attualmente ricopro il ruolo di Dirigente Medico presso l’Ospedale Umberto I di Siracusa.<br>
                    In passato ho prestato servizio presso l’ASST Settelaghi - Ospedale di Circolo e Fondazione Macchi, Università dell’Insubria di Varese, e presso l’ASST Fatebenefratelli Sacco di Milano.<br>
                    Ho partecipato alla stesura di articoli scientifici pubblicati su riviste specialistiche nazionali e internazionali. Sono membro di diverse società scientifiche oftalmologiche e ho preso parte a numerosi congressi di Oftalmologia, sia a livello nazionale che internazionale.<br>
                    Ho, inoltre, conseguito il Diploma di Superior Specialist in Ophthalmology presso l’European School for Advanced Studies in Ophthalmology di Lugano.<br>
                    Mi occupo principalmente di chirurgia della cataratta e di chirurgia laser refrattiva, oltre che della diagnosi e del trattamento del glaucoma e delle patologie retiniche e maculari.
                    </p>
            </div>
            <div class="about-image">
                <img src="{{ url_for('static', filename='images/imgwho-bw.jpeg') }}" alt="Chi sono">
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-columns">
                <div class="footer-column">
                    <h4>Eye Center Rubino</h4>
                    <p>Via Sipione, 14<br>96019 Rosolini (SR)</p>
                </div>
                <div class="footer-column">
                    <h4>Contatti</h4>
                    <p><i class="fas fa-phone"></i> {{numero}}</p>
                    <p><i class="fas fa-envelope"></i> {{email}}</p>
                </div>
                <div class="footer-column">
                    <h4>Orari</h4>
                    <p>{{orari}}</p>
                </div>
            </div>
            <div class="footer-bottom">
                <!--<p>&copy; 2023 Eye Center Rubino. Tutti i diritti riservati.</p>-->
                <div class="footer-links">
                    <a href="https://www.iubenda.com/privacy-policy/33984770">Privacy Policy</a>
                    <!--<a href="https://www.iubenda.com/privacy-policy/33984770/cookie-policy">Cookie Policy</a>-->
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ==================== MOBILE MENU ====================
            const mobileMenuBtn = document.querySelector('.mobile-menu');
            const navLinks = document.querySelector('.nav-links');
            const navItems = document.querySelectorAll('.nav-links a');
            const menuIcon = mobileMenuBtn.querySelector('i');
            
            function toggleMobileMenu() {
                navLinks.classList.toggle('active');
                const isActive = navLinks.classList.contains('active');
                menuIcon.classList.toggle('fa-bars', !isActive);
                menuIcon.classList.toggle('fa-times', isActive);
            }
            
            mobileMenuBtn.addEventListener('click', toggleMobileMenu);
            
            navItems.forEach(item => {
                item.addEventListener('click', () => {
                    navLinks.classList.remove('active');
                    menuIcon.classList.replace('fa-times', 'fa-bars');
                });
            });

            // ==================== CAROUSEL ====================
            const carousel = {
                elements: {
                    inner: document.querySelector('.carousel-inner'),
                    items: document.querySelectorAll('.carousel-item'),
                    indicators: document.querySelectorAll('.indicator'),
                    prevBtn: document.querySelector('.prev'),
                    nextBtn: document.querySelector('.next'),
                    container: document.querySelector('.carousel')
                },
                config: {
                    interval: 5000,
                    transitionSpeed: 500,
                    currentIndex: 0,
                    totalSlides: document.querySelectorAll('.carousel-item').length,
                    intervalId: null,
                    isAutoRotating: true
                },
                
                init() {
                    if (this.config.totalSlides === 0) return;
                    
                    // Set initial active slide
                    this.updateActiveSlide(0);
                    
                    // Setup event listeners
                    this.setupEventListeners();
                    
                    // Start auto-rotation
                    this.startAutoRotation();
                },
                
                setupEventListeners() {
                    // Navigation buttons
                    this.elements.prevBtn.addEventListener('click', () => {
                        this.moveSlide(-1);
                        this.resetAutoRotation();
                    });
                    
                    this.elements.nextBtn.addEventListener('click', () => {
                        this.moveSlide(1);
                        this.resetAutoRotation();
                    });
                    
                    // Indicators
                    this.elements.indicators.forEach((indicator, index) => {
                        indicator.addEventListener('click', () => {
                            this.goToSlide(index);
                            this.resetAutoRotation();
                        });
                    });
                    
                    // Pause on hover
                    this.elements.container.addEventListener('mouseenter', () => {
                        this.pauseAutoRotation();
                    });
                    
                    this.elements.container.addEventListener('mouseleave', () => {
                        if (this.config.isAutoRotating) {
                            this.startAutoRotation();
                        }
                    });
                    
                    // Touch events for mobile
                    let touchStartX = 0;
                    let touchEndX = 0;
                    
                    this.elements.inner.addEventListener('touchstart', (e) => {
                        touchStartX = e.changedTouches[0].screenX;
                        this.pauseAutoRotation();
                    }, {passive: true});
                    
                    this.elements.inner.addEventListener('touchend', (e) => {
                        touchEndX = e.changedTouches[0].screenX;
                        this.handleSwipe();
                        if (this.config.isAutoRotating) {
                            this.resetAutoRotation();
                        }
                    }, {passive: true});
                },
                
                handleSwipe() {
                    const threshold = 50;
                    const diff = touchStartX - touchEndX;
                    
                    if (diff > threshold) {
                        this.moveSlide(1); // Swipe left - next slide
                    } else if (diff < -threshold) {
                        this.moveSlide(-1); // Swipe right - previous slide
                    }
                },
                
                updateActiveSlide(index) {
                    this.config.currentIndex = (index + this.config.totalSlides) % this.config.totalSlides;
                    
                    // Update carousel position
                    this.elements.inner.style.transition = `transform ${this.config.transitionSpeed}ms ease-in-out`;
                    this.elements.inner.style.transform = `translateX(-${this.config.currentIndex * 100}%)`;
                    
                    // Update active states
                    this.elements.items.forEach((item, i) => {
                        item.classList.toggle('active', i === this.config.currentIndex);
                    });
                    
                    this.elements.indicators.forEach((indicator, i) => {
                        indicator.classList.toggle('active', i === this.config.currentIndex);
                    });
                },
                
                moveSlide(step) {
                    this.updateActiveSlide(this.config.currentIndex + step);
                },
                
                goToSlide(index) {
                    if (index >= 0 && index < this.config.totalSlides) {
                        this.updateActiveSlide(index);
                    }
                },
                
                startAutoRotation() {
                    this.config.isAutoRotating = true;
                    clearInterval(this.config.intervalId);
                    this.config.intervalId = setInterval(() => {
                        this.moveSlide(1);
                    }, this.config.interval);
                },
                
                pauseAutoRotation() {
                    this.config.isAutoRotating = false;
                    clearInterval(this.config.intervalId);
                },
                
                resetAutoRotation() {
                    this.pauseAutoRotation();
                    if (this.config.isAutoRotating) {
                        this.startAutoRotation();
                    }
                }
            };

            // Initialize the carousel
            carousel.init();

            // ==================== RESIZE HANDLER ====================
            function handleResize() {
                // Reset carousel position on resize to prevent layout issues
                carousel.elements.inner.style.transition = 'none';
                carousel.elements.inner.style.transform = `translateX(-${carousel.config.currentIndex * 100}%)`;
                
                // Force reflow
                void carousel.elements.inner.offsetWidth;
                
                // Restore transition
                carousel.elements.inner.style.transition = `transform ${carousel.config.transitionSpeed}ms ease-in-out`;
            }

            // Debounced resize event
            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(handleResize, 100);
            });
        });
    </script>
    <script type="text/javascript">
        var _iub = _iub || [];
        _iub.csConfiguration = {"siteId":3988320,"cookiePolicyId":33984770,"lang":"it","storage":{"useSiteId":true}};
        </script>
        <script type="text/javascript" src="https://cs.iubenda.com/autoblocking/3988320.js"></script>
        <script type="text/javascript" src="//cdn.iubenda.com/cs/iubenda_cs.js" charset="UTF-8" async></script> 
</body>
</html>